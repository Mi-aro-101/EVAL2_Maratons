{% extends 'base.html.twig' %}

{% block title %}New Devis{% endblock %}

{% block body %}

<style>
    .mycard{
        border-radius : 20px;
        transition: transform 0.3s ease
    }
    .mycard:hover{
        transform: scale(1.05);
        cursor: pointer;
    }
    body{
        background-image: url({{ asset('images/8-800x533-s8.jpg') }});
        background-size: cover;
    }
    a{
        color: red;
    }
    a:hover{
        text-decoration: none;
        color: black;
    }
    .btn{
        border-radius: 100px;
    }
</style>

    <div class="block-header">
        <h2>Creer votre devis a partir d'ici</h2>
    </div>

    {# <div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Carousel indicators -->
    <ol class="carousel-indicators">
      <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
    </ol>   

    <!-- Wrapper for carousel items -->
    <div class="carousel-inner">
      <div class="item active">
        <img src="image1.jpg" alt="Slide 1">
      </div>

      <div class="item">
        <img src="image2.jpg" alt="Slide 2">
      </div>
    
      <div class="item">
        <img src="image3.jpg" alt="Slide 3">
      </div>
    </div>

    <!-- Left and right controls -->
    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
      <span class="glyphicon glyphicon-chevron-left"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#myCarousel" data-slide="next">
      <span class="glyphicon glyphicon-chevron-right"></span>
      <span class="sr-only">Next</span>
    </a>
  </div> #}
<div class="container">
  <div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Wrapper for carousel items -->
    <div class="carousel-inner">
      {% for key, value in type_maisons %}
      <div class="item {% if loop.first %}active{% endif %}" onclick="handleTypeMaison('{{ key }}', '{{ value[0].getDesignation() }}')">
        <div class="col-lg-4 col-md-4 col-sm-6 col-xs-12">
          <div class="card mycard">
            <div class="{{ value[1] }}">
              <h2><strong>{{ value[0].designation|upper }}</strong></h2>
              <!-- Dropdown menu -->
            </div>
            <div class="body">
              {{ value[0].description }}
              <!-- Prix -->
              <center><strong>Prix : </strong></center>
              <center><h3 style="color : #714ed9">{{ value[0].getPrixTotal()|number_format(2, '.', ' ') }} Ar</h3></center>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
        <a class="right carousel-control" href="#myCarousel" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right"></span>
            <span class="sr-only"><button class="btn btn-lg btn-primary">Next</button></span>
        </a>
  </div>
</div>

    <br>
    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
        <div class="card">
            <div class="header">
                <h2>
                    Insertion
                </h2>
            </div>
            {{ form_start(form) }}
                <div class="body">
                    <div class="row clearfix">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <div class="form-line">
                                    <label id="maison" for="dateDevis">Type de maison choisie : </label>
                                </div>
                            </div>
                            <input type="hidden" name="maison" id="typeMaison">
                            <div class="form-group">
                                <div class="form-line">
                                    <label for="dateDevis">Date de devis</label>
                                    <input type="date" name={{ field_name(form.dateDevis) }} id="dateDevis" class="form-control">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-line">
                                    <label for="dateDebut">Date de debut des travaux</label>
                                    <input type="date" name={{ field_name(form.dateDebutTravaux) }} id="dateDebut" class="form-control">
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="form-line">
                                    <label for="typeFinition">Type de finition</label>
                                    <select id="typeFinition" name="{{ field_name(form.typeFinition) }}">
                                        {% for label, value in field_choices(form.typeFinition) %}
                                            <option value="{{ value }}">{{ label }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-warning btn-lg">{{ button_label|default('Valider') }}</button>
                </div>
            {{ form_end(form) }}
        </div>
    </div>

    {# {{ include('devis/_form.html.twig') }} #}

    <a href="{{ path('app_type_maison_index') }}"> <button class="btn btn-lg btn-info"> <= Retour a la liste de maison </button</a>

<script>
    function handleTypeMaison(value, nom) {
        var maison = document.getElementById('maison');
        console.log(value);
        localStorage.setItem('typeMaison', value);
        maison.innerHTML = 'Type de maison choisie : '+nom;
        var typeMaison = document.getElementById('typeMaison');
        typeMaison.value = value;
    }
</script>

{% endblock %}
